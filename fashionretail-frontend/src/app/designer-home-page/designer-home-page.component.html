<link href="https://fonts.googleapis.com/css?family=Open+Sans" rel="stylesheet">
<div class="visible-header">
  <mat-menu #dd="matMenu" [overlapTrigger]="false">
    <div class="dropdown"><br>
      <!-- <a routerLink="/designerviewprofile" routerLinkActive="active"></a> -->
      <a routerLinkActive="active">
        <button mat-button color="primary" (click)="viewProfile()">View Profile</button>
        <br></a>
      <button mat-button color="primary"><a routerLink="/designervieworders" routerLinkActive="active">View Previous
        orders</a></button>
      <mat-divider></mat-divider>
      <a routerLink="/logout" routerLinkActive="active">
        <button mat-button color="primary">Logout</button>
      </a>
    </div>
  </mat-menu>


  <div>
    <mat-toolbar class="header">
      <mat-toolbar-row>
        <!--<button mat-icon-button (click)="sidenav.toggle()" fxShow="true" fxHide.gt-sm>
          <mat-icon>menu</mat-icon>
        </button>-->
        <img src="assets/logo.png" width="90" height="80" class="d-inline-block align-top" alt="App Logo">
        <span class="title">TrendMode</span>
        <span class="spacer"></span>

        <span>
                       <mat-form-field>
                         <input #searchText matInput placeholder="Search for products">
                       </mat-form-field>
                       <button mat-icon-button aria-label="icon-button with a search icon"
                               (click)="search(searchText.value)">
                         <mat-icon>search</mat-icon>
                       </button></span>
        <!-- The following menu items will be hidden on both SM and XS screen sizes -->
        <a routerLink="/designer" routerLinkActive="active">
          <button mat-stroked-button style="color:aliceblue">Home</button>
        </a>
        <button mat-stroked-button #ddTrigger="matMenuTrigger" [matMenuTriggerFor]="dd" style="color:aliceblue">
          Profile <i _ngcontent-fnv-c19="" class="material-icons icon-image-preview">arrow_drop_down</i></button>

      </mat-toolbar-row>
    </mat-toolbar>

  </div>
</div>
<div class="dummy">
  <mat-menu #ddd="matMenu" [overlapTrigger]="false">
    <div class="dropdown"><br>
      <!-- <a routerLink="/designerviewprofile" routerLinkActive="active"></a> -->
      <a routerLinkActive="active">
        <button mat-button color="primary" (click)="viewProfile()">View Profile</button>
        <br></a>
      <button mat-button color="primary"><a routerLink="/designervieworders" routerLinkActive="active">View Previous
        orders</a></button>
      <mat-divider></mat-divider>
      <a routerLink="/logout" routerLinkActive="active">
        <button mat-button color="primary">LogOut</button>
      </a>
      <a routerLink = "/logout"  routerLinkActive="active"><button mat-button color="primary">Logout</button></a>

    </div>
  </mat-menu>


  <div>
    <mat-toolbar class="header">
      <mat-toolbar-row>
        <!--<button mat-icon-button (click)="sidenav.toggle()" fxShow="true" fxHide.gt-sm>
          <mat-icon>menu</mat-icon>
        </button>-->
        <img src="assets/logo.png" width="90" height="80" class="d-inline-block align-top" alt="App Logo">
        <span class="title">TrendMode</span>
        <span class="spacer"></span>

        <span>
                       <mat-form-field>
                         <input #searchText matInput placeholder="Search for products">
                       </mat-form-field>
                       <button mat-icon-button aria-label="icon-button with a search icon"
                               (click)="search(searchText.value)">
                         <mat-icon>search</mat-icon>
                       </button></span>
        <!-- The following menu items will be hidden on both SM and XS screen sizes -->
        <a routerLink="/designer" routerLinkActive="active">
          <button mat-stroked-button style="color:aliceblue">Home</button>
        </a>
        <button mat-stroked-button #ddTrigger="matMenuTrigger" [matMenuTriggerFor]="ddd" style="color:aliceblue">
          Profile <i _ngcontent-fnv-c19="" class="material-icons icon-image-preview">arrow_drop_down</i></button>

      </mat-toolbar-row>
    </mat-toolbar>

  </div>
</div>
  <mat-tab-group dynamicHeight animationDuration="0ms" class="tab" [(selectedIndex)]="selectedIndex"
    (selectedTabChange)="tabChanged($event)">
    <mat-tab label="Upload Designs">
      <div id="container">
       <img class="image" src = "assets/designer.jpg"/>
      </div>
      <div style="padding-top: 30px" class="uploadDesign">Designer add new Designs
        <button mat-button
                (click)="openDialog()">Upload Designs
        </button>
      </div>


      <div class="flex-container">
        <div *ngFor="let designs of orderlist">
        <mat-card class="example-card" *ngIf="designs.designOrder.orderStatus.indexOf('manufacturer_completed')!== -1
        && designs.designOrder.orderStatus.indexOf('supplier_completed')!== -1">
          <mat-card-header>
            <mat-card-title>
              {{designs.designOrder.id}}<br>
              {{designs.designOrder.name}}
            </mat-card-title>
          </mat-card-header>
          <mat-card-content><br/>
            <img style="height: 250px" mat-card-image src="assets/{{designs.designOrder.design_img}}" alt="Image of the design">
            <p>
              Order Status: {{designs.designOrder.orderStatus}}
            </p>
            <p>
              Quantity: {{designs.designOrder.quantityOfDesign}}
            </p>
            <p>Rating</p>
          </mat-card-content>
          <mat-card-actions>
            <button mat-button (click)="openDialogPrice(designs)">Add price</button>
          </mat-card-actions>
        </mat-card>
        </div>
      </div>

    </mat-tab>

    <mat-tab label="Select Supplier Materials" (click)="getAllUser()">
      <div style="padding-top: 50px">
        <button mat-button (click)="nextStep()"> Place Order</button>
        <h5>Recommended Suppliers</h5>
        <div class="cardList">
          <mat-card *ngFor="let supplier of supplier1">
              <mat-card-content>
                {{supplier.name}}
              </mat-card-content>

          </mat-card>
        </div>
        <hr/>
        <div class="cardList">

          <!-- <div *ngFor="let song of tracks"> -->
          <mat-card class="card-picture" *ngFor="let material of mapping">

            <!-- <mat-card class="card-picture" *ngFor="let material of Materials"> -->
            <mat-card-header>

              <mat-card-title>Material</mat-card-title>

            </mat-card-header>

            <mat-card-content>
              <p> Material name: <b>{{material.material.name}}</b></p>
              <p>Material category: <b>{{material.material.category}}</b></p>
              <p>
                Available quantity: <b>{{material.quantity}}</b></p>
              <p>
                Material price: <b>{{material.price}}</b>
              </p>
              <p>
                Supplied By: <b>{{material.supplier.name}}</b>
              </p>
              <p>Rating: <b>{{material.supplier.rating}}</b></p>
              <mat-form-field>
                <input matInput type="number" placeholder="enter quantity in units"
                                                     [(ngModel)]="material.designerEnterQuantity">
              </mat-form-field>
            </mat-card-content>
            <mat-card-actions>
              <button mat-button (click)="saveMaterial(material)">Add</button>
              <button mat-raised-button (click)="openDialog(material)">cancel</button>
            </mat-card-actions>
          </mat-card>
        </div>
      </div>
    </mat-tab>
    <mat-tab label="Select Manufacturers">
      <div style="padding-top: 50px">
        <button mat-button (click)="submitOrder()"> Submit Order</button>

        <div class="cardList">

          <h5>Recommended Manufacturers</h5>
          <mat-card class="card-picture" *ngFor="let manufacturer of manufacturer1">
            <mat-card-header>

              <mat-card-title>Manufacturer</mat-card-title>

            </mat-card-header>

            <mat-card-content>
              <p>
                Manufacturer Name:{{manufacturer.name}}
              </p>
              <p>
                Rating: {{manufacturer.rating}}
              </p>
              <p>
                Base prices:</p>
              <div *ngFor="let prices of manufacturer.basePrices">
                {{prices.name}}: {{prices.price}}
               </div>
            </mat-card-content>
            <mat-card-actions>
              <button mat-button>View</button>
              <button mat-button (click)="saveManufacture(manufacturer)">select</button>
              <button mat-raised-button (click)="openDialog()">cancel</button>
            </mat-card-actions>
          </mat-card>

        </div>

      <hr>
        <div class="cardList">


          <mat-card class="card-picture" *ngFor="let manufacturer of manufacturer">
            <mat-card-header>

              <mat-card-title>Manufacturer</mat-card-title>

            </mat-card-header>

            <mat-card-content>
              <p>
                Manufacturer Name:{{manufacturer.name}}
              </p>
              <<p>
              Rating: {{manufacturer.rating}}
            </p>
              <p>
                Base prices:</p>
              <div *ngFor="let prices of manufacturer.basePrices">
                {{prices.name}}: {{prices.price}}
              </div>
            </mat-card-content>
            <mat-card-actions>
              <!--<button mat-button>View</button>-->
              <button mat-button (click)="saveManufacture(manufacturer)">select</button>
              <button mat-raised-button routerLink="/designer" routerLinkActive="active">cancel</button>
            </mat-card-actions>
          </mat-card>

        </div>
      </div>
    </mat-tab>

  </mat-tab-group>


  <mat-card *ngFor="let song of Material">
    <mat-card-header>
      <div mat-card-avatar class="example-header-image"></div>
      <mat-card-title>Track</mat-card-title>
      <mat-card-subtitle>{{song.email}}</mat-card-subtitle>
    </mat-card-header>
  </mat-card>



